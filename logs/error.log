{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-03T14:23:22.046Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-03T14:26:33.115Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-03T14:35:57.634Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-03T14:36:18.348Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-03T14:36:47.141Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-03T14:38:44.088Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'text')","timestamp":"2025-07-05T13:41:45.854Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'text')","timestamp":"2025-07-05T13:42:38.545Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading '_id')","timestamp":"2025-07-05T13:45:40.724Z"}
{"level":"error","message":"Error connecting to MongoDB: E11000 duplicate key error collection: telegram-bot.questions index: key_1 dup key: { key: \"name\" }","timestamp":"2025-07-05T13:50:07.042Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading '_id')","timestamp":"2025-07-05T14:18:55.216Z"}
{"level":"error","message":"Error: 429: Too Many Requests: retry after 12","timestamp":"2025-07-05T14:36:54.411Z"}
{"level":"error","message":"Error: 429: Too Many Requests: retry after 3","timestamp":"2025-07-05T14:39:31.319Z"}
{"level":"error","message":"Error: Cannot use 'in' operator to search for 'text' in /start","timestamp":"2025-07-05T14:41:47.316Z"}
{"level":"error","message":"Error: Cannot use 'in' operator to search for 'text' in /start","timestamp":"2025-07-05T14:42:16.472Z"}
{"level":"error","message":"Error: Cannot use 'in' operator to search for 'text' in /start","timestamp":"2025-07-05T14:42:37.770Z"}
{"level":"error","message":"Error: Cannot use 'in' operator to search for 'text' in /start","timestamp":"2025-07-05T14:43:14.380Z"}
{"level":"error","message":"Error: Cannot use 'in' operator to search for 'text' in /start","timestamp":"2025-07-05T14:43:27.334Z"}
{"level":"error","message":"Error: Cannot use 'in' operator to search for 'text' in /start","timestamp":"2025-07-05T14:49:59.208Z"}
{"level":"error","message":"Error: 429: Too Many Requests: retry after 10","timestamp":"2025-07-05T14:50:49.655Z"}
{"level":"error","message":"Error: 429: Too Many Requests: retry after 9","timestamp":"2025-07-05T15:05:08.948Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading '_id')","timestamp":"2025-07-05T15:20:54.760Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading '_id')","timestamp":"2025-07-05T15:22:10.023Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-05T16:37:07.195Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-05T16:37:19.315Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-05T16:37:25.977Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-05T16:38:22.090Z"}
{"level":"error","message":"Error in questionnaire step 4: Cannot read properties of undefined (reading 'toString')","timestamp":"2025-07-05T17:18:07.936Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-10T11:08:17.974Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-12T07:11:02.191Z"}
{"level":"error","message":"Error: Submission validation failed: answers.0.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:15:15.970Z"}
{"level":"error","message":"Error: Submission validation failed: answers.0.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:15:29.018Z"}
{"level":"error","message":"Error: Submission validation failed: answers.0.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:15:32.296Z"}
{"level":"error","message":"Error: Submission validation failed: answers.0.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:17:33.306Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:19:43.193Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:21:49.342Z"}
{"level":"error","message":"Error: Submission validation failed: answers.2.questionId: Path `questionId` is required.","timestamp":"2025-07-12T07:25:48.244Z"}
{"level":"error","message":"Error in question loop: Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\src\\bot\\scenes\\questionnaire.scene.ts:131:51\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\scenes\\wizard\\index.js:37:66\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\scenes\\wizard\\index.js:29:24\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:507:20","timestamp":"2025-07-12T07:54:57.379Z"}
{"level":"error","message":"Error in question loop: Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\src\\bot\\scenes\\questionnaire.scene.ts:139:51\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\scenes\\wizard\\index.js:37:66\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\scenes\\wizard\\index.js:29:24\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:507:20","timestamp":"2025-07-12T08:04:00.714Z"}
{"level":"error","message":"Error in question loop: Cannot read properties of undefined (reading 'text')","stack":"TypeError: Cannot read properties of undefined (reading 'text')\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\src\\bot\\scenes\\questionnaire.scene.ts:233:71\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\scenes\\wizard\\index.js:37:66\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\scenes\\wizard\\index.js:29:24\n    at execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:507:20","timestamp":"2025-07-12T12:12:53.483Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-15T08:17:21.193Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T11:32:16.845Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T11:32:19.084Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T11:33:00.551Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T11:33:25.604Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'reply')","timestamp":"2025-07-15T11:33:47.419Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'reply')","timestamp":"2025-07-15T11:33:52.596Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T11:37:56.331Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'leave')","timestamp":"2025-07-15T12:51:16.321Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'enter')","timestamp":"2025-07-15T12:55:47.649Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'enter')","timestamp":"2025-07-15T12:55:48.860Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'enter')","timestamp":"2025-07-15T12:56:19.506Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T13:07:08.812Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T13:07:10.264Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T13:08:09.311Z"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'sendMessage')","timestamp":"2025-07-15T13:08:11.085Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-16T14:28:34.808Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-16T14:43:51.489Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-07-17T14:30:34.676Z"}
{"level":"error","message":"Error in submit/edit step: ctx.scene.action is not a function","stack":"TypeError: ctx.scene.action is not a function\n    at C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\src\\bot\\scenes\\questionnaire.scene.ts:250:57\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (C:\\Users\\AB\\Desktop\\INSA-Projects\\telegram-bot-project\\node_modules\\telegraf\\lib\\composer.js:518:17)","timestamp":"2025-07-17T14:48:09.107Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-08-15T13:32:20.105Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-08-15T13:45:19.074Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-08-15T13:46:38.794Z"}
{"level":"error","message":"MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017","timestamp":"2025-08-15T14:40:30.172Z"}
{"level":"error","message":"Error in initial step: Operation `users.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/ubuntu/Documents/afalagi-telegram-bot/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at processTimers (node:internal/timers:514:7)","timestamp":"2025-08-15T15:06:19.483Z"}
{"level":"error","message":"Error in initial step: Operation `users.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/ubuntu/Documents/afalagi-telegram-bot/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at processTimers (node:internal/timers:514:7)","timestamp":"2025-08-15T15:06:29.793Z"}
